서 론
대부분의 현대인에게 노동은 절대적이다. 건강은 노동 과정에서 고려 대상이다. 단순히 생각하면, 업무에 차질이 생겨 해결하는 과정에서 스트레스를 받을 수 있다. 육체적 노동 종사자일 경우, 반복된 작업 행위를 통해 신체적 노화 등 문제가 생길 수 있다. 1차 산업 종사자부터 3차 산업 종사자까지 산업재해 문제는 빠질 수 없는 존재이다. 서술을 토대로 하면, 산업재해란 ‘노동 및 작업 반경 내에서 업무상의 이유로 발생하는 노동자의 신체적 또는 정신적 피해’이다. 다른 말로는 노동재해이다. 피해를 넘어 사망으로 번지는 경우도 존재한다. 산업재해는 업무와 관련된 피해이므로 모든 분야에서 발생할 가능성이 있다. 그만큼 중요하다고 판단하였으며, 주제 데이터로 관심을 가졌다. 많은 데이터 세트가 존재하였으나 데이터 전처리가 쉬운, 정제가 잘된 데이터를 사용할 예정이다. 통계청의 ‘전체 재해 현황 및 분석-업종별(산업별 중분류)’의 데이터 세트에서 1차 중분류만 지정하고, 2001년부터 2018년까지의 근로자 수, 재해자 수, 사망자 수 자료를 추출하였다. 구글 코랩을 이용하여 다음의 순서도와 같은 활동을 하려고 한다.
 
 본 론
 -	데이터 프레임 구축
 시각화에 불편함이 없도록 글꼴을 설치하고 필요한 모듈 및 데이터 세트를 불러온다. 코드는 다음 아래와 같으며, 데이터 프레임을 구축한다. 이름은 df로 구축한다. 180개의 행, 5개의 열을 가지고 있다. Info를 통해 데이터들의 타입을 확인하고, isnull().sum()을 통해 결측치가 있는지 확인하였다. 결측치는 없었다. 그림 2를 통하여 데이터 세트가 어떤 형태를 가지고 있는지 확인 가능하다
 
!sudo apt-get install -y fonts-nanum
!sudo fc-cache -fv
!rm ~/.cache/matplotlib -rf
 # 구글 코랩 환경에서 글자 깨짐 현상을 방지하기 위해 사용
 
import pandas as pd
import matplotlib.pyplot as plt
import numpy as np
import seaborn as sns
%matplotlib inline
plt.rc('font', family = 'NanumBarunGothic')
 # 필요한 라이브러리들 import
 
df = pd.read_csv('anal.csv', encoding='cp949')
df.info()
print('\n')
df.isnull().sum()

plt.title('재해자 수 대비 사망자 수')
plt.scatter(df['재해자수 (명)'], df['사망자수 (명)'])
plt.xlabel('재해자 수 (명)', fontsize=13)
plt.ylabel('사망자 수 (명)', fontsize=13)
plt.show()

sns.lmplot(x='재해자수 (명)', y='사망자수 (명)', data=df)
plt.title('재해자 수 대비 사망자 수')
plt.show()

a = sns.scatterplot(x='재해자수 (명)', y='사망자수 (명)', hue='산업중분류별(1)', data=df)
a.legend(bbox_to_anchor=(1.0, 0.5))
plt.show()

new_df = df.iloc[:, [3, 4]]
new_df.info()

new_df.head(5)

import tensorflow as tf
from tensorflow.keras import layers
import seaborn as sns

독립 = new_df[['재해자수 (명)']]
종속 = new_df[['사망자수 (명)']]
print(독립.shape, 종속.shape)

X = tf.keras.layers.Input(shape=[1])
Y = tf.keras.layers.Dense(1)(X)
model = tf.keras.models.Model(X, Y)
model.compile(loss='mse')

model.fit(독립, 종속, epochs=10)

model.fit(독립, 종속, epochs=1000, verbose=0)

model.fit(독립, 종속, epochs=10)

model.fit(독립, 종속, epochs=10000, verbose=0)

model.fit(독립, 종속, epochs=10)

df.max()

print(model.predict([[13000000]]))

print(model.predict([[1700]]))

df.set_index(['산업중분류별(1)'],inplace = True)
df

three = df.loc[['기타의사업', '제조업', '건설업'], :]
three.index

a = sns.scatterplot(x='재해자수 (명)', y='사망자수 (명)', hue='산업중분류별(1)', data=three)
a.legend(bbox_to_anchor=(1.0, 0.5))
plt.title('특정 세 산업의 재해자 수와 사망자 수')
plt.show()

import tensorflow as tf
from tensorflow.keras import layers
import seaborn as sns

독립 = three[['재해자수 (명)']]
종속 = three[['사망자수 (명)']]
print(독립.shape, 종속.shape)

X = tf.keras.layers.Input(shape=[1])
Y = tf.keras.layers.Dense(1)(X)
model = tf.keras.models.Model(X, Y)
model.compile(loss='mse')

model.fit(독립, 종속, epochs=10)

model.fit(독립, 종속, epochs=10000, verbose=0)

model.fit(독립, 종속, epochs=10)

model.fit(독립, 종속, epochs=10000, verbose=0)

model.fit(독립, 종속, epochs=10)

manu = df.loc[['제조업'], :]
manu.index

other 

manu

import tensorflow as tf
from tensorflow.keras import layers
import seaborn as sns

독립 = manu[['사망자수 (명)']]
종속 = manu[['재해자수 (명)']]
print(독립.shape, 종속.shape)

X = tf.keras.layers.Input(shape=[1])
Y = tf.keras.layers.Dense(1)(X)
model = tf.keras.models.Model(X, Y)
model.compile(loss='mse')

model.fit(독립, 종속, epochs=10)
